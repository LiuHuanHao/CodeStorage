<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>图片轮播复杂版</title>
  <style type="text/css">
	#d{
		position:relative;
		top:-20px;
	}
	label{
		margin-left:20px;
		color:red;
	}
	.one{
		width:10px;
		height:10px;
		border:1px solid black;
		background-color:RGB(0,114,223);
	}
  </style>
 </head>
 <script type="text/javascript">
 <!--
	var  n=0;
	var t=0;
	function init()
	{
		//拿到所有label控件
		var lbs=document.getElementsByTagName("label");
		//给每个label控件注册事件
		for(var i=0;i<lbs.length;i++)
		{
			lbs[i].onmouseover=function()
			{
				//让时间停下来
				clearTimeout(t);
				//让图片显示为相应的图片
				var b=this.innerText*1;
				//拿到img对象
				var img=document.getElementById("img");
				img.src=b+".jpg";
				//让label控件样式变成one的样式
				clearStyle();
				this.className="one";
				//alert("执行一次mouseover");
				t=setTimeout("fun()",1500);
				//改变当前n的值
				n=this.innerText*1;
			}
		}
		fun();
	}


	function fun()
	{
		n++;
		if(n==6)
		{
			n=1;
		}
		//拿到图片对象
		var img=document.getElementById("img");
		img.src=n+".jpg";
		//清空所有label样式
		//拿到所有的label样式
		clearStyle();
		//设定相应label控件的样式
		document.getElementById("i"+n).className="one";
		t=setTimeout("fun()",1500);	
		alert("执行了内置的timeout");
	}

	function clearStyle()
	{
		var lbs=document.getElementsByTagName("label");
		for(var i=0;i<lbs.length;i++)
		{
			lbs[i].className="";
		}
	}
 //-->
 </script>
 <body onload="init()">
 <div align="center">
 <!-- 这里可以用align或center属性居中 -->
		<img src="forever.jpg" width="300" height="300" id="img">
		<div id="d">
				<label id="i1">&nbsp;1&nbsp;</label>
				<label id="i2">&nbsp;2&nbsp;</label>
				<label id="i3">&nbsp;3&nbsp</label>
				<label id="i4">&nbsp;4&nbsp;</label>
				<label id="i5">&nbsp;5&nbsp;</label>
		</div>
  </div>
 </body>
</html>
